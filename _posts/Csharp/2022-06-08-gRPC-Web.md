---
title: "[gRPC-Web] Blazorë¥¼ ì´ìš©í•˜ì—¬ gRPC ì„œë¹„ìŠ¤ í´ë¼ì´ì–¸íŠ¸ í˜¸ì¶œ ë°©ë²•"
excerpt: "C# Blazorë¥¼ í™œìš©í•˜ì—¬ Webì—ì„œ gRPCí†µì‹ í•˜ê¸°"

categories:
  - C#
  
tags:
  - [C#, gRPC, HTTP2, Blazor]

permalink: 

toc: true
toc_sticky: true
 
date: 2022-06-08
last_modified_at: 2022-06-08
---

## ğŸ˜¬ gRPC-WEB í™œìš©í•˜ê¸° ğŸ­ğŸ‘©â€ğŸ­ğŸ‘¨â€ğŸ­
---

1ì‹œê°„ë™ì•ˆ ì³ë‹¤ë³¸ ì˜¤ë¥˜
```js
Grpc.Core.RpcException: 'Status(StatusCode="Internal", Detail="Content-Type 'application/grpc-web' is not supported.")'
```

<br>

---

ì„œë¹„ìŠ¤ë¶€ë¶„

> Startup.cs ì¶”ê°€
> 1. **[ConfigureServices]** ì—ì„œ  **[service.addCors();]** ì¶”ê°€
>> .NET 6ì¼ê²½ìš° 
> 2. **[Configure]** ì—ì„œ **[app.UseGrpcWeb();]** , **[app.UseCors();]** ë¥¼ ì¶”ê°€í•œë‹¤.
>> **[app.UseRouting();]** ê³¼ **[app.UseEndpoints()]** ì‚¬ì´ì— ì¶”ê°€í•´ì•¼í•œë‹¤.
> 3. **[EndPoints]** ì— **[endpoints.MapGrpcService<GreeterService>().EnableGrpcWeb();]** 
>> ì„œë¹„ìŠ¤ë¶€ë¶„ì— **[EnableGrpcWeb()]** ì¶”ê°€
> 

---

Blazor Web page ë²„íŠ¼í•¨ìˆ˜ë¶€ë¶„

```csharp
    private void gRpc_Test()
    {
        var channel = GrpcChannel.ForAddress("http://localhost:50051"
        , new GrpcChannelOptions{
                HttpHandler = new GrpcWebHandler(new HttpClientHandler())
                ,
            });
        var client = new Greet.Greeter.GreeterClient(channel);
        var reply = client.SayHello(new Greet.HelloRequest {
           Name = "ë¸”ë ˆì´ì €ì—ì„œ ìš”ì²­" 
           });
        Console.WriteLine("Greeting: " + reply.Message);

    }
```

Console ì¶œë ¥ë¶€ë¶„

```js
Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executed endpoint 'gRPC - /greet.Greeter/SayHello'
Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request finished HTTP/2 POST http://localhost:50051/greet.Greeter/SayHello application/grpc-web - - 200 - application/grpc-web 7.0985ms
```

ì„±ê³µ!
<br>



**Note:** `ë§Œë“¤ê³ ë‚˜ë‹ˆ ë‚´ê²ƒì´ ì•„ë‹ˆì—ˆë‹¤.` 